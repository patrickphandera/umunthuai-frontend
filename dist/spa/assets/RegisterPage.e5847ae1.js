import{Q as i,a as p}from"./QForm.29d0362d.js";import{Q as l}from"./QInput.213b8e1c.js";import{Q as n}from"./QBtn.8f5a2437.js";import{Q as f}from"./QCard.23ce42ae.js";import{Q as g}from"./QPage.5da164b8.js";import{r as c}from"./auth.service.621c6e84.js";import{o as u,c as m,w as t,b as s,e as w,a0 as V,d as b,t as h,K as x}from"./index.fa63e990.js";import{_ as y}from"./plugin-vue_export-helper.21dcd24c.js";import"./use-dark.cfad1ba5.js";const q={data(){return{username:"",phone:"",district:"",password:"",confirmPassword:"",error:!1,errorMessage:"",age:""}},methods:{async register(){if(this.password!==this.confirmPassword){this.error=!0,this.errorMessage="Passwords do not match.";return}try{const a={username:this.username,phone:this.phone,district:this.district,password:this.password,age:this.age},e=await c(a);console.log("Registration successful:",e),this.$router.push("/auth/login")}catch(a){this.error=!0,this.errorMessage=a.response.data.error||"Registration failed. Please try again.",console.error("Registration failed:",this.errorMessage)}},goToLogin(){this.$router.push("/auth/login")}}};function _(a,e,P,Q,r,d){return u(),m(g,{class:"flex flex-center"},{default:t(()=>[s(f,{class:"q-pa-md",style:{"max-width":"400px",width:"100%"}},{default:t(()=>[s(i,{class:"text-center"},{default:t(()=>e[6]||(e[6]=[w("div",{class:"text-h6"},"Kulembetsa",-1)])),_:1}),s(i,null,{default:t(()=>[s(p,{onSubmit:V(d.register,["prevent"])},{default:t(()=>[s(l,{modelValue:r.username,"onUpdate:modelValue":e[0]||(e[0]=o=>r.username=o),label:"Zina Lanu",outlined:"",required:"",class:"q-mb-md"},null,8,["modelValue"]),s(l,{modelValue:r.age,"onUpdate:modelValue":e[1]||(e[1]=o=>r.age=o),label:"Zaka",outlined:"",required:"",type:"number",class:"q-mb-md"},null,8,["modelValue"]),s(l,{modelValue:r.phone,"onUpdate:modelValue":e[2]||(e[2]=o=>r.phone=o),label:"Phone",type:"",outlined:"",required:"",class:"q-mb-md"},null,8,["modelValue"]),s(l,{modelValue:r.district,"onUpdate:modelValue":e[3]||(e[3]=o=>r.district=o),label:"Boma",outlined:"",required:"",class:"q-mb-md"},null,8,["modelValue"]),s(l,{modelValue:r.password,"onUpdate:modelValue":e[4]||(e[4]=o=>r.password=o),label:"Password",type:"password",outlined:"",required:"",class:"q-mb-md"},null,8,["modelValue"]),s(l,{modelValue:r.confirmPassword,"onUpdate:modelValue":e[5]||(e[5]=o=>r.confirmPassword=o),label:"Confirm Password",type:"password",outlined:"",required:"",class:"q-mb-md"},null,8,["modelValue"]),s(n,{label:"Register",type:"submit",color:"primary",class:"full-width q-mb-md"})]),_:1},8,["onSubmit"])]),_:1}),s(i,{class:"text-center"},{default:t(()=>[s(n,{flat:"",label:"Already have an account? Login",onClick:d.goToLogin},null,8,["onClick"])]),_:1}),r.error?(u(),m(i,{key:0,class:"text-negative text-center"},{default:t(()=>[b(h(r.errorMessage),1)]),_:1})):x("",!0)]),_:1})]),_:1})}var S=y(q,[["render",_],["__scopeId","data-v-4dc637a2"]]);export{S as default};
